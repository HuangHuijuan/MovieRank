{% extends "layout.html" %}

{% block body %}

<ul class="movie-list">
  {% for movie in movies %}
  <li class="movie-item">
    <div class="card">
      <div class="movie-title">
        {{movie.title}}
        <!-- <span class="movie-rating">Peer Rating: {{movie.avg_rating}}</span> -->
      </div>
      <div class="movie-info">
        {{movie.genre}}
      </div>
      <div class="rating-stars" id={{movie.movieid}} movieId={{movie.movieid}}>
        {% for i in range(1, movie.u_rating + 1) %}
        <i class="material-icons star" rating={{i}}>star</i>
        {% endfor %}
        {% for i in range(movie.u_rating + 1, 6) %}
        <i class="material-icons star star_border" rating={{i}}>star_border</i>
        {% endfor %}
      </div>
    </div>
  </li>
  {% endfor %}
</ul>
<ul class="pagination">
  {% if numOfPages %}
    {% if numOfPages < 3 %}
      {% for i in range(1, numOfPages + 1) %}
      <li class="page-item" page={{i}}>{{i}}</li>
      {% endfor %}
    {% else %}
      {% for i in range(1, 4) %}
      <li class="page-item" page={{i}}>{{i}}</li>
      {% endfor %}
      <li class="page-item" class="break-me">...</li>
      {% for i in range(numOfPages - 1, numOfPages + 1) %}
      <li class="page-item" page={{i}}>{{i}}</li>
      {% endfor %}
    {% endif %}
  {% endif %}
</ul>

<script src="/js/rankpage.js"></script>
{% endblock %}

